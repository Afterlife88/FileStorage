# Scalability

В будущем для улучшения производительности можно применить кэширование данных на стороне API с помощью применения атрибута **ResponseCache** на часто используемых запросах. Так же можно применить **Redis** как хранилище распределенного кэша, для приминения в проекте нужно просто добавить на объекте **IServiceCollection** в Startup файле готовую реализацию **AddDistributedRedisCache** с указанием конфигурации и имени инстанса.

Так же можно разграничить и сделать отдельные микросервисы под работу с приложениями и пользователями, вынося это на отдельные инcтансы для повышения производительности.

Эффективным способом улучшения перфоманса будет горизонтальное масштабирование с помощью **docker swarm** и балансировщика нагрузки. Для этого:
> - Инициализируем `docker swarm init`
> - Создаем сервис: `docker service create --publish 8080:5000 --name custom-registration-service devchallenge/custom-registration-service`
> - Скейлим приложение на 3 контейнера `docker service scale custom-registration-service=3`
> - Для проверки пишем `docker ps` и убеждаемся в работе.

**Docker swarm** использует **Round-robin** алгоритм для распределения нагрузки между контейнерами.

После этого настроим обратный прокси на сервере. На конфигурации IIS выбираем **Add Rule(s)**, **Reverse proxy** и пишем туда адрес ноды докера с портом, который определили выше, по дефолту это **10.0.75.2:8080**. Готово.

Для уменьшения контейнеров используем:
> `docker service scale custom-registration-service=0`

Для удаления сервиса:
> `docker service rm custom-registration-service`
